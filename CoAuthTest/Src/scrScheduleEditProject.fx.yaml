scrScheduleEditProject As screen:
    OnVisible: =false

    imgAttachedIcon_2 As image:
        BorderThickness: =2
        Height: =223
        Image: |-
            =LookUp(
                '[dbo].[tblImages]',
                ImageID = SelectedProjectImgID,
                Image
            )
        OnSelect: =Select(medAttachIcon_1)
        RadiusBottomLeft: =5
        RadiusBottomRight: =5
        RadiusTopLeft: =5
        RadiusTopRight: =5
        Width: =224
        X: =220
        Y: =644
        ZIndex: =1

    lblNewProject_7 As label:
        Align: =Align.Center
        Height: =56.22
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =26.99
        Text: ="Edit Project"
        Width: =Parent.Width
        Y: =153.60
        ZIndex: =6

    btnSubmit_3 As button:
        Fill: =RGBA(168, 0, 0, 1)
        Height: =49.48
        OnSelect: |-
            =UpdateContext({EditProjectCheckPopup:true})
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =14.99
        Text: ="Submit"
        Width: =264
        X: =(Parent.Width-btnSubmit_3.Width)/2
        Y: =899.56
        ZIndex: =7

    icoBack_5 As icon.BackArrow:
        Height: =47.98
        Icon: =Icon.BackArrow
        OnSelect: |-
            =UpdateContext({ResetEditProject:true});UpdateContext({ResetEditProject:false});Navigate(scrScheduleProjects,ScreenTransition.UnCoverRight,{EditProjects:true})
        PaddingBottom: =0.00
        PaddingLeft: =0.00
        X: =20
        Y: =100.33
        ZIndex: =8

    lblProjectNum_2 As label:
        Height: =37.48
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =17.99
        Text: |-
            ="Project #"
        Width: =Parent.Width/2
        X: =(Parent.Width-lblProjectNum_2.Width)/10
        Y: =247.30
        ZIndex: =9

    txtProjectNum_1 As text:
        Default: |-
            =LookUp(
                '[dbo].[tblProjects]',
                ProjectID = SelectedProjectID,
                ProjectNum
            )
        Height: =56.22
        HintText: |-
            ="Enter a Project #"
        PaddingBottom: =3.75
        PaddingLeft: =9.00
        Reset: =ResetEditProject
        Size: =17.99
        Width: =Parent.Width*.9
        X: =lblProjectNum_2.X
        Y: =284.79
        ZIndex: =10

    grpBanner_6 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =10

        recBanner_6 As rectangle:
            Height: =85.33
            Width: =768
            Y: =0.00
            ZIndex: =2

        imgClientLogo_6 As image:
            Height: =77.84
            Image: =ComfortSystemsLogo
            ImagePosition: =ImagePosition.Fill
            PaddingBottom: =0.00
            PaddingLeft: =0.00
            Width: =imgClientLogo_6.Height*2
            X: =recBanner_6.X+5
            Y: =3.75
            ZIndex: =3

        "'lblToday''sDate_6' As label":
            Align: =Align.Right
            Color: =RGBA(255, 255, 255, 1)
            Height: =28.44
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =13.49
            Text: =Today()
            Width: =Parent.Width/2
            X: =(recBanner_6.X+recBanner_6.Width)-'lblToday''sDate_6'.Width
            Y: =0.00
            ZIndex: =4

        lblWelcome_6 As label:
            Align: =Align.Right
            Color: =RGBA(255, 255, 255, 1)
            Height: =28.44
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =13.49
            Text: =Concatenate("Welcome  ",User().FullName)
            Width: =Parent.Width/2
            X: =(recBanner_6.X+recBanner_6.Width)-lblWelcome_6.Width
            Y: =56.89
            ZIndex: =5

    lblProjectName_2 As label:
        Height: =37.48
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =17.99
        Text: ="Project Name"
        Width: =Parent.Width/2
        X: =(Parent.Width-lblProjectName_2.Width)/10
        Y: =359.75
        ZIndex: =11

    txtProjectName_1 As text:
        Default: |-
            =LookUp(
                '[dbo].[tblProjects]',
                ProjectID = SelectedProjectID,
                ProjectName
            )
        Height: =56.22
        HintText: ="Enter a Project Name"
        PaddingBottom: =3.75
        PaddingLeft: =9.00
        Reset: =ResetEditProject
        Size: =17.99
        Width: =Parent.Width*.9
        X: =lblProjectName_2.X
        Y: =397.23
        ZIndex: =12

    lblConCompletionDate_2 As label:
        Height: =37
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =17.99
        Text: ="Contractual Completion Date"
        Width: =346
        X: =38
        Y: =478
        ZIndex: =13

    DatePickerContractual_1 As datepicker:
        DefaultDate: |-
            =LookUp(
                '[dbo].[tblProjects]',
                ProjectID = SelectedProjectID,
                ContractCompletionDate
            )
        Height: =56.22
        InputTextPlaceholder: =
        Reset: =ResetEditProject
        Width: =325
        X: =38
        Y: =537
        ZIndex: =14

    lblRevCompletionDate_2 As label:
        Height: =37
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =17.99
        Text: ="Revised Completion Date"
        Width: =326
        X: =403
        Y: =500
        ZIndex: =15

    DatePickerRevised_1 As datepicker:
        DefaultDate: |-
            =LookUp(
                '[dbo].[tblProjects]',
                ProjectID = SelectedProjectID,
                RevisedCompletionDate
            )
        Height: =56.22
        InputTextPlaceholder: =
        Reset: =ResetEditProject
        Width: =325
        X: =404
        Y: =537
        ZIndex: =16

    lblPerExecutedContract_1 As label:
        Height: =20
        Text: ="(Per Executed Contract)"
        Width: =214
        X: =38
        Y: =515
        ZIndex: =17

    lblAttachIcon_2 As label:
        Height: =37.48
        PaddingBottom: =3.75
        PaddingLeft: =3.75
        Size: =17.99
        Text: |-
            ="Attach an icon:"
        Width: =Parent.Width/2
        X: =38
        Y: =629
        ZIndex: =18

    medAttachIcon_1 As addMedia:
        BorderThickness: =2
        ChangePictureText: =Concatenate(medAttachIcon_1.FileName," - Tap to change picture")
        Height: =46
        Reset: =ResetEditProject
        Size: =14
        Text: ="Tap to change picture"
        Width: =224
        X: =220
        Y: =644
        ZIndex: =19

    grpProjectCheckPopup_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =36

        recPopupProject_1 As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            FocusedBorderThickness: =1
            Height: =939
            Visible: =EditProjectCheckPopup
            Width: =768
            Y: =85
            ZIndex: =20

        lblProjectNum_3 As label:
            Height: =37
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =18
            Text: |-
                ="Project #"
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =20
            Y: =228
            ZIndex: =21

        lblProjectName_3 As label:
            Height: =37
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =18
            Text: ="Project Name"
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =19
            Y: =292
            ZIndex: =22

        lblConCompletionDate_3 As label:
            Height: =37
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =18
            Text: ="Contractual Completion Date"
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =20
            Y: =353
            ZIndex: =23

        lblRevCompletionDate_3 As label:
            Height: =37
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =18
            Text: ="Revised Completion Date"
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =20
            Y: =403
            ZIndex: =24

        lblAttachIcon_3 As label:
            Height: =37
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =18
            Text: |-
                ="Attach an icon:"
            Visible: =EditProjectCheckPopup
            Width: =200
            X: =20
            Y: =479
            ZIndex: =25

        lblNewProject_8 As label:
            Align: =Align.Center
            Height: =100
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =26.99
            Text: ="Please ensure the following information is correct."
            Visible: =EditProjectCheckPopup
            Width: =Parent.Width
            Y: =109
            ZIndex: =26

        imgAttachedIcon_1 As image:
            BorderThickness: =2
            Height: =350
            Image: |-
                =If(
                    IsBlank(medAttachIcon_1),
                    LookUp(
                        '[dbo].[tblImages]',
                        ImageID = SelectedProjectImgID,
                        Image
                    ),
                    medAttachIcon_1.Media
                )
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Visible: =EditProjectCheckPopup
            Width: =350
            X: =209
            Y: =479
            ZIndex: =27

        lblProjectNumCheck_1 As label:
            Height: =37
            Size: =18
            Text: =txtProjectNum_1.Text
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =366
            Y: =228
            ZIndex: =28

        lblProjectNameCheck_1 As label:
            Height: =37
            Size: =18
            Text: =txtProjectName_1.Text
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =366
            Y: =292
            ZIndex: =29

        lblConCompetionDateCheck_1 As label:
            Height: =37
            Size: =18
            Text: =DatePickerContractual_1.SelectedDate
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =366
            Y: =353
            ZIndex: =30

        lblRevCompletionDateCheck_1 As label:
            Height: =37
            Size: =18
            Text: =DatePickerRevised_1.SelectedDate
            Visible: =EditProjectCheckPopup
            Width: =346
            X: =366
            Y: =403
            ZIndex: =31

        btnConfirm_2 As button:
            Fill: =RGBA(168, 0, 0, 1)
            Height: =49.48
            OnSelect: |-
                =If(
                    IsEmpty(Filter('[dbo].[tblImages]',FileName=medAttachIcon_1.FileName)),
                    Patch(
                    '[dbo].[tblImages]',
                    Defaults('[dbo].[tblImages]'),
                    {
                        Image: medAttachIcon_1.Media,
                        FileName:medAttachIcon_1.FileName
                    }
                ));
                Patch(
                    '[dbo].[tblProjects]',
                    First(Filter('[dbo].[tblProjects]',ProjectID=SelectedProjectID)),
                    {
                        ProjectNum: txtProjectNum_1.Text,
                        ProjectName: txtProjectName_1.Text,
                        ContractCompletionDate: DatePickerContractual_1.SelectedDate,
                        RevisedCompletionDate: DatePickerRevised_1.SelectedDate,
                        ImageID: LookUp('[dbo].[tblImages]',FileName=medAttachIcon_1.FileName,ImageID),
                        Created: Today(),
                        CreatedBy: User().Email
                    }
                );
                UpdateContext({EditProjectCheckPopup:false});
                UpdateContext({ResetEditProject:true});
                UpdateContext({ResetEditProject:false});
                Navigate(scrScheduleProjects)
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =14.99
            Text: ="Confirm"
            Visible: =EditProjectCheckPopup
            Width: =264
            X: =444
            Y: =900
            ZIndex: =32

        btnCancel_2 As button:
            Fill: =RGBA(168, 0, 0, 1)
            Height: =49.48
            OnSelect: |-
                =UpdateContext({EditProjectCheckPopup:false})
            PaddingBottom: =3.75
            PaddingLeft: =3.75
            Size: =14.99
            Text: ="Cancel"
            Visible: =EditProjectCheckPopup
            Width: =264
            X: =68
            Y: =899
            ZIndex: =33

